(this.webpackJsonpleniolabs=this.webpackJsonpleniolabs||[]).push([[0],{48:function(e,t,n){e.exports=n(81)},53:function(e,t,n){},55:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(23),l=n.n(c),o=(n(53),n(12)),s=(n(54),n(55),n(16)),u=n(17),i=n(20),m=n(18),d=n(21),h=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",null,"ProPublica Congress"),r.a.createElement("section",null,r.a.createElement("content",null,this.props.children)),r.a.createElement("footer",null,"ProPublica Congress 2019"))}}]),t}(a.Component),f=n(10),b=n(19),p=n.n(b),E=n(25),g=n(13),v=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchInput:"",advancedSearchInput:"",searchKey:"first_name",members:[],advanced_search:!1,advanced_title:"Advanced",loading:!0,currentPage:1,membersPerPage:7},n.handleInput=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(E.a)({},r,a))},n.handlePageClick=function(e){n.setState({currentPage:Number(e.target.id)})},n.fetchCongress=function(e,t){p.a.get("https://api.propublica.org/congress/v1/"+e+"/"+t+"/members.json",{headers:{"X-API-Key":"5og6CCG0fxLBhSoanWGSMFsr7FDIs609Mvrg8r6n"}}).then((function(e){var t=e.data.results[0].members;n.setState({members:t,loading:!1}),console.log(t)}))},n.handleSelectChange=function(e){n.setState({searchKey:e.target.value}),console.log(e.target.value)},n.handleAdvanceSearch=function(){n.setState((function(e){return{advanced_search:!e.advanced_search}}))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){for(var e=this,t=this.state,n=t.searchInput,a=t.advanced_search,c=t.advancedSearchInput,l=t.searchKey,o=t.currentPage,s=t.membersPerPage,u=this.props,i=u.members,m=u.loading,d=i.filter((function(e){return e.first_name.toLowerCase().includes(n.toLowerCase())||e.last_name.toLowerCase().includes(n.toLowerCase())||e.party.toLowerCase().includes(n.toLowerCase())||e.state.toLowerCase().includes(n.toLowerCase())||(e.party+"-"+e.state).toLowerCase().includes(n.toLowerCase())||e.gender.toLowerCase().includes(n.toLowerCase())||e.phone.toLowerCase().includes(n.toLowerCase())||e.office.toLowerCase().includes(n.toLowerCase())})),h=i.filter((function(e){return e[l]?e[l].toString().toLowerCase().includes(c.toLowerCase()):null})),f=[],b=o*s,p=b-s,E=(f=a?h:d).slice(p,b),v=[],y=1;y<=Math.ceil(f.length/s);y++)v.push(y);var w=v.map((function(t){return r.a.createElement("button",{key:t,id:t,onClick:e.handlePageClick},t)})),_=[];return i.length>0&&(_=Object.keys(i[0])),r.a.createElement("div",{className:"container"},r.a.createElement("button",{onClick:this.handleAdvanceSearch},a?"Basic":"Advanced"," Search"),r.a.createElement("div",{hidden:!a},r.a.createElement("br",null),r.a.createElement("select",{id:"memberKeys",onChange:this.handleSelectChange,value:l},_.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),"\xa0",r.a.createElement("input",{type:"text",placeholder:"Search...",onChange:this.handleInput,name:"advancedSearchInput",value:c})),r.a.createElement("div",{hidden:a},r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"u-full-width",placeholder:"Search...",onChange:this.handleInput,name:"searchInput",value:n})),r.a.createElement("table",{className:"u-full-width"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Congressman"),r.a.createElement("th",null,"Gender"),r.a.createElement("th",null,"Party-State"),r.a.createElement("th",null,"Phone"),r.a.createElement("th",null,"Office Address"))),r.a.createElement("tbody",null,m?r.a.createElement("tr",null,r.a.createElement("td",null,"Loading...")):E.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(g.b,{to:"members/"+e.id},e.short_title+" "+e.first_name+" "+e.last_name)),r.a.createElement("td",null,e.gender),r.a.createElement("td",null,e.party+"-"+e.state),r.a.createElement("td",null,e.phone),r.a.createElement("td",null,e.office))})))),w)}}]),t}(a.Component),y=Object(f.b)((function(e){return{members:e.data.members,loading:e.data.loading}}))(v),w=n(42),_=n.n(w),C=n(43),O=n.n(C),S=n(44),j=n.n(S),k=n(45),L=n.n(k),P=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={memberInfo:{},loading:!0,selectedRoles:[0]},n.fetchMember=function(e){p.a.get("https://api.propublica.org/congress/v1/members/"+e+".json",{headers:{"X-API-Key":"5og6CCG0fxLBhSoanWGSMFsr7FDIs609Mvrg8r6n"}}).then((function(e){var t;t=e.data.results[0],console.log(t),e.data.results.length>0&&n.setState({memberInfo:t,loading:!1})}))},n.handleRoles=function(e){var t=n.state.selectedRoles;n.state.selectedRoles.includes(e)?t=t.filter((function(t){return t!==e})):t.push(e),n.setState({selectedRoles:t})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchMember(this.props.match.params.id)}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,a=t.selectedRoles,c=t.memberInfo,l=this.props.members.find((function(t){return t.id===e.props.match.params.id})),o=(r.a.createElement("p",null,"Loading..."),c.roles?c.roles.map((function(t,n){return r.a.createElement("li",{key:n,onClick:function(){return e.handleRoles(n)}},t.chamber+", "+t.state+", "+_()(t.start_date).format("YYYY")+", "+("D"==t.party?"Democrat":"Republican"),r.a.createElement("ul",{hidden:!a.includes(n)},t.committees?t.committees.map((function(e,t){return r.a.createElement("li",{key:t},e.name," (",e.begin_date+" - "+e.end_date,")")})):null))})):""),s=l?r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,l.first_name+" "+l.last_name," ",l.facebook_account?r.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/"+l.facebook_account},r.a.createElement(O.a,{fontSize:"large",color:"primary"})):null,l.twitter_account?r.a.createElement("a",{target:"_blank",href:"https://www.twitter.com/"+l.twitter_account},r.a.createElement(j.a,{fontSize:"large"})):null,l.youtube_account?r.a.createElement("a",{target:"_blank",href:"https://www.youtube.com/"+l.youtube_account},r.a.createElement(L.a,{fontSize:"large",color:"error"})):null," "),r.a.createElement("h3",null,l.party+"-"+l.state),r.a.createElement("p",null,"Office: ",l.office,r.a.createElement("br",null),"Phone: ",l.phone),r.a.createElement("p",null,"Birth Date: ",l.date_of_birth),r.a.createElement("p",null,"Total Votes: ",l.total_votes),"Roles:",r.a.createElement("ul",null,n?"Loading...":o),r.a.createElement("p",null,r.a.createElement("a",{href:l.url,target:"_blank"},r.a.createElement("button",null,"Contact")))):null;return r.a.createElement("div",{className:"container"},r.a.createElement(g.b,{to:"/"},r.a.createElement("button",null,"Back")),r.a.createElement("br",null),s)}}]),t}(a.Component),M=Object(f.b)((function(e){return{members:e.data.members,loading:e.data.loading}}))(P);var I=Object(f.b)(null,(function(e){return{onFetchMembers:function(t,n){return e(function(e,t){return function(n){n({type:"FETCH_MEMBERS_START"}),p.a.get("https://api.propublica.org/congress/v1/"+e+"/"+t+"/members.json",{headers:{"X-API-Key":"5og6CCG0fxLBhSoanWGSMFsr7FDIs609Mvrg8r6n"}}).then((function(e){var t=e.data.results[0].members;n(function(e){return{type:"FETCH_MEMBERS_SUCCESS",members:e}}(t))})).catch((function(e){n({type:"FETCH_MEMBERS_FAILED",error:e})}))}}(t,n))}}}))((function(e){Object(a.useEffect)((function(){e.onFetchMembers("116","senate")}));var t=r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/members/:id",component:M}),r.a.createElement(o.a,{exact:!0,path:"/",component:y}));return r.a.createElement("div",null,r.a.createElement(h,null,t))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=n(11),D=n(46);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var T=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},A={members:[],loading:!0},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MEMBERS_START":return T(e,{loading:!0});case"FETCH_MEMBERS_SUCCESS":return T(e,{members:t.members,loading:!1});case"FETCH_MEMBERS_FAILED":return T(e,{loading:!0});default:return e}},N=Object(R.c)({data:B}),x=Object(R.d)(Object(R.a)(D.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}),G=Object(R.e)(N,{},x),K=r.a.createElement(f.a,{store:G},r.a.createElement(g.a,null,r.a.createElement(I,null)));l.a.render(K,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.5a111b6d.chunk.js.map